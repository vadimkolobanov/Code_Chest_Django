# Code Chest Admin and API
___
## **Описание**

Проект Admin_Panel содержит изменяемые файлы:
- routers.py - файл, где описаны маршруты для api всего проекта;
- settings.py - глобальные настройки проекта;
- urls.py - файл для подключения всех адресов и адреса "api/".
В проекте разработаны панель администрирования и api для работы с ботом Code Chest. 
  **Проект состоит из двух приложений:**
- main
  В приложении main содержатся модели таблицы с проектами и пользователями выполнившие конкретный проект.
  Содержит следующие основные файлы:
    - admin.py - файл для регистарации приложения в панели администрирования. Расширенная версия;
    - api_views.py - файл, в котором описаны представления api для проектов и пользователей выполнившими конкретный проект;
    - models.py - файл, где описаны модели проект и пользователи выполнившие конкретный проект;
    - serializer.py - файл, в котором описан перевод данных в json из таблицы с проектами и пользователями кототые выполнили конкретный проект;
    - urls.py - файл для подключения всех адресов приложения main;
    - views.py - файл, где описаны обработчики главной страницы проекта.
- users
  В приложении users переобпределена модель User и содержится api для доступа к пользователям.
  Содержит следующие аналогичные файлы как и приложение main.
  
___
## **Начало работы**

**Перед началом работы с кодом проекта выполнить:**

- ``` git clone https://github.com/vadimkolobanov/Code_Chest_Django.git ```
- ``` python3 -m venv venv ```
- ``` sourse venv/bin/activate ```
- ``` pip install -r requirements.txt ```
- Перейти в каталог code_chest_django
- ``` python3 manage.py makemigrations ```
- ``` python3 manage.py mogrations ```
- ``` python3 manage.py createsuperuser ```
- ``` python3 manage.py runserver ```
___

## **Тестовые наборы данных**
В проекте предусмотрены тестовые наборы данных, для автоматического заполнения таблиц базы.
Для заполнения базы тестовым набором используйте:
``` python3 manage.py createtestset ```
При использовании данной команды создаются 4 пользователя Ivan, Mark, Vadim, Gera с паролем от учетной записи 1.
Также создаются 10 проектов от test 1 до test 10. Плюс создаются 15 сущностей Пользователь - Выполненный проект.

При повторном использовании команды создается 10 таких же проектов под новыми id и 15 новых сущностей Пользователь - Выполненный проект.
Если сущность Пользователь - Выполненный проект существует, то создание записи не производится. Т.е один пользователь выполнить
один и тот же проект несколько раз не может.

Для удаления всех тестовых наборов необходимо воспользоваться командой ``` python3 manage.py deletetestset ```.
В данном случае удалять все пользователи (за исключением пользователя с id = 1 и username = admin, поэтому пользователя администратора 
необходимо создавать самым первым или с именем admin), проекты и сущности Пользователь - Выполненный проект.
___

## **Работа с панелью управления**

В браузере перейти по адресу ```http://127.0.0.1:8000/admin/```.
Откроется окно авторизации, где ввести логин и пароль администратора, которого создали командой ```python3 manage.py createsuperuser```  
несколькими пунктами выше.
При успешной авторизации откроется панель управления, где все и так понятно.
___

## **Доступ к API**

Доступ к api осуществляется по адресу: ```http://127.0.0.1:8000/api/```. Откроется главная страница api, со ссылками на
все существующими маршрутами api проекта.

___

## **Получение проектов с помощью API по языку и уровню**

___

Получение проектов по языку и уровню осуществляется по адресу: ```http://127.0.0.1:8000/api/projects/Python/3```. Язык
программирования может указываться как в нижнем, так и в верхнем регистрах. Уровень указывается исключительно в виде
целого числа.
___